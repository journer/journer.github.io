<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-wap-web-app-capable" content="yes">
    <meta name="apple-wap-web-app-status-bar-style" content="black-translucent">
    <meta content="telephone=no" name="format-detection">
    <title>购物车 </title>
    <!-- ionic框架  css -->
    <link href="css/weixin.css" rel="stylesheet" type="text/css">
    <link href="css/ionic.min.css" rel="stylesheet" type="text/css">
    <link href="css/signin.css" rel="stylesheet" type="text/css">
    <link href="css/share.css" rel="stylesheet" type="text/css">
    <!-- /ionic框架  css -->
    <link rel="stylesheet" href="css/common.css"/>
    <style type="text/css">
        [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak, .ng-hide:not(.ng-hide-animate) {
            display: none !important;
        }

        ng\:form {
            display: block;
        }

        .ng-animate-shim {
            visibility: hidden;
        }

        .ng-anchor {
            position: absolute;
        }
    </style>
</head>
<body class="grade-a platform-browser platform-win32 platform-ready"><div id="totop" style="display: none;"><a></a></div>
<div class="header_box">
    <div class="bar bar-header">
        <a class="back" href="index.html"><button style="border: 0;background-color: #fff"><</button></a>
        <div id="tite" class="h1 title" style=" width: 72%; margin: 0 auto; ">购物车</div>
        <a class="rig_shai" id="rem_s" href="javascript:void(0)" style="margin-right: 2%;position: absolute; top: 5px; right: 3%;">编辑</a>
    </div>
</div>
<div style="height:44px;"></div>

<form method="post" name="cart_form" target="_self" id="cart_form" action="">
    <!--list-->
    <div class="commodity_list_box">
        <div class="cart_top">
            <span>商品清单</span>
            <p id="weights">总重量约25kg</p>
            <div class="clear"></div>
        </div>
        <!--商品列表-->
        <div class="commodity_box">
            <div class="commodity_list">
                <!--店名信息-->
                <div class="tite_tim select">
                    <em aem="1" cart_id="84"></em>
                    <span>momo</span>
                    <div class="clear"></div>
                </div>
                <!--商品-->
                <ul class="commodity_list_term">
                    <li class="select">
                        <em aem="0" cart_id="84"></em>
                        <img src="image/chanpin.png">
                        <div class="div_center">
                            <h4>x展架</h4>
                            <span>1件</span>
                            <p class="now_value"><i>￥</i><b class="qu_su">120.00</b></p>
                        </div>
                        <div class="div_right">
                            <i onclick="reducew(this)">-</i>
                            <span class="zi">3</span>
                            <input type="hidden" value="84">
                            <i onclick="plusw(this)">+</i>
                        </div>
                    </li>
                    <li class="select">
                        <em aem="0" cart_id="84"></em>
                        <img src="image/chanpin.png">
                        <div class="div_center">
                            <h4>x展架</h4>
                            <span>1件</span>
                            <p class="now_value"><i>￥</i><b class="qu_su">10.00</b></p>
                        </div>
                        <div class="div_right">
                            <i onclick="reducew(this)">-</i>
                            <span class="zi">3</span>
                            <input type="hidden" value="84">
                            <i onclick="plusw(this)">+</i>
                        </div>
                    </li>
                </ul>
                <!--优惠信息-->
                <div class="shop_ul_bottom account_info_box">
                    <ul class="account_info">

                        <li class="i_text">
                            <span class="info_name xi_cu">包邮</span>
                            <span class="info_name">商家包邮</span>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <div class="commodity_box">
            <div class="commodity_list">
                <!--店名信息-->
                <div class="tite_tim select">
                    <em aem="1" cart_id="84"></em>
                    <span>momo</span>
                    <div class="clear"></div>
                </div>
                <!--商品-->
                <ul class="commodity_list_term">
                    <li class="select">
                        <em aem="0" cart_id="84"></em>
                        <img src="image/chanpin.png">
                        <div class="div_center">
                            <h4>x展架</h4>
                            <span>1件</span>
                            <p class="now_value"><i>￥</i><b class="qu_su">160.00</b></p>
                        </div>
                        <div class="div_right">
                            <i onclick="reducew(this)">-</i>
                            <span class="zi">3</span>
                            <input type="hidden" value="84">
                            <i onclick="plusw(this)">+</i>
                        </div>
                    </li>
                    <li class="select">
                        <em aem="0" cart_id="84"></em>
                        <img src="image/chanpin.png">
                        <div class="div_center">
                            <h4>x展架</h4>
                            <span>1件</span>
                            <p class="now_value"><i>￥</i><b class="qu_su">20.00</b></p>
                        </div>
                        <div class="div_right">
                            <i onclick="reducew(this)">-</i>
                            <span class="zi">1</span>
                            <input type="hidden" value="84">
                            <i onclick="plusw(this)">+</i>
                        </div>
                    </li>
                </ul>
                <!--优惠信息-->
                <div class="shop_ul_bottom account_info_box">
                    <ul class="account_info">

                        <li class="i_text">
                            <span class="info_name xi_cu">包邮</span>
                            <span class="info_name">商家包邮</span>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <!-- 商品列表 end -->
    </div>
    <!-- end -->

    <!-- footer -->
    <div style="height:55px;"></div>
    <div class="settle_box">
        <dl class="all_check select">
            <dt><span id="all_pitch_on"></span><em>全选</em></dt>
        </dl>
        <dl class="total_amount">
            <dt>合计：<p id="total_price">¥<b>0</b></p></dt>
            <dd>不含运费</dd>
        </dl>
        <input type="hidden" name="gcs" id="gcs">
        <a class="settle_btn bounceIn" href="javascript:void(0);" id="confirm_cart" >结算</a>
        <a class="settle_btn" href="javascript:void(0);" id="confirm_cart1" onclick="big_cart_remove()">删除</a>


       <div id="dialogBg"></div>
        <div id="dialog" class="animated">
            <div class="dialogTop">
                <a href="javascript:;" class="claseDialogBtn">关闭</a>
            </div>
            <form action="" method="post" name="payPassword" id="form_paypsw" novalidate="novalidate">
                <div id="payPassword_container" class="alieditContainer clearfix" data-busy="0">
                    <label for="i_payPassword" class="i-block">支付密码：</label>
                    <div class="i-block con" data-error="i_error">
                        <div class="i-block six-password">
                            <input class="i-text sixDigitPassword" id="payPassword_rsainput" type="password" autocomplete="off" required="required" value="" name="payPassword_rsainput" data-role="sixDigitPassword" tabindex="" maxlength="6" minlength="6" aria-required="true">
                            <div tabindex="0" class="sixDigitPassword-box" style="width: 180px;">
                                <i style="width: 29px; border-color: transparent;" class=""><b style="visibility: hidden;"></b></i>
                                <i style="width: 29px;"><b style="visibility: hidden;"></b></i>
                                <i style="width: 29px;"><b style="visibility: hidden;"></b></i>
                                <i style="width: 29px;"><b style="visibility: hidden;"></b></i>
                                <i style="width: 29px;"><b style="visibility: hidden;"></b></i>
                                <i style="width: 29px;"><b style="visibility: hidden;"></b></i>
                                <span style="width: 29px; left: 0px; visibility: hidden;" id="cardwrap" data-role="cardwrap"></span>
                            </div>
                        </div>
                        <span>请输入6位支付密码( 数字！)</span>
                    </div>
                </div>
                <input type="submit" class="submit-btn" value="提交">
            </form>
        </div>
    </div>
    <!-- end -->
</form>

</body>
<script src="js/jquery-1.7.2.js"></script>
<!-- ionic框架  js   -->
<script type="text/javascript" src="js/ionic.bundle.min.js"></script>

<script type="text/javascript" src="js/runend.js"></script>

<script type="text/javascript" src="js/gouwuche.js"></script>

<script src="js/jquery-validate.js" type="text/javascript"></script>

<script type="text/javascript">
    var w,h,className;
    function getSrceenWH(){
        w = $(window).width();
        h = $(window).height();
        $('#dialogBg').width(w).height(h);
    }

    window.onresize = function(){
        getSrceenWH();
    };
    $(window).resize();

    $(function() {
        getSrceenWH();
        //显示弹框
        $('.settle_btn').click(function () {
            if($('.settle_box .all_check span').hasClass('pitch_on')){
            className = $(this).attr('class');
            $('#dialogBg').fadeIn(300);
            $('#dialog').removeAttr('class').addClass('animated ' + className + '').fadeIn();}
        });

        //关闭弹窗
        $('.claseDialogBtn').click(function () {
            $('#dialogBg').fadeOut(300, function () {
                $('#dialog').addClass('bounceOutUp').fadeOut();
            });
        });
    });
     var _formPay = $('#form_paypsw');

        _formPay.validate({
            rules : {
                'payPassword_rsainput':{
                    'minlength':6,
                    'maxlength':6,
                    required:true,
                    digits : true,
                    numPassword : true,
                    echoNum :true
                }
            },

            messages:{
                'payPassword_rsainput':{
                    'required' : '<i class="icon icon-attention icon-lg"></i>&nbsp;请填写支付密码',
                    'maxlength' : '<i class="icon icon-attention icon-lg"></i>&nbsp;密码最多为{0}个字符',
                    'minlength' : '<i class="icon icon-attention icon-lg"></i>&nbsp;密码最少为{0}个字符',
                    'digits':'<i class="icon icon-attention icon-lg"></i>&nbsp;密码只能为数字',
                    'numPassword' : '<i class="icon icon-attention icon-lg"></i>&nbsp;连号不可用，相同数字不可用（如：123456，11111）',
                    'echoNum' :'<i class="icon icon-attention icon-lg"></i>&nbsp;连号不可用，相同数字不可用（如：123456，11111）'
                }
            },
            errorPlacement : function(error, element) {
                element.closest('div[data-error="i_error"]').append(error);
            },
            submitHandler : function(form){
                var _form = $(form);
                form.submit();

            }
        });

        var payPassword = $("#payPassword_container"),
            _this = payPassword.find('i'),
            k=0,j=0,
            password = '' ,
            _cardwrap = $('#cardwrap');
        //点击隐藏的input密码框,在6个显示的密码框的第一个框显示光标
        payPassword.on('focus',"input[name='payPassword_rsainput']",function(){

            var _this = payPassword.find('i');
            if(payPassword.attr('data-busy') === '0'){
                //在第一个密码框中添加光标样式
                _this.eq(k).addClass("active");
                _cardwrap.css('visibility','visible');
                payPassword.attr('data-busy','1');
            }

        });
        //change时去除输入框的高亮，用户再次输入密码时需再次点击
        payPassword.on('change',"input[name='payPassword_rsainput']",function(){
            _cardwrap.css('visibility','hidden');
            _this.eq(k).removeClass("active");
            payPassword.attr('data-busy','0');
        }).on('blur',"input[name='payPassword_rsainput']",function(){

            _cardwrap.css('visibility','hidden');
            _this.eq(k).removeClass("active");
            payPassword.attr('data-busy','0');

        });

        //使用keyup事件，绑定键盘上的数字按键和backspace按键
        payPassword.on('keyup',"input[name='payPassword_rsainput']",function(e){

            var  e = (e) ? e : window.event;

            //键盘上的数字键按下才可以输入
            if(e.keyCode == 8 || (e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105)){
                k = this.value.length;//输入框里面的密码长度
                l = _this.size();//6

                for(;l--;){

                    //输入到第几个密码框，第几个密码框就显示高亮和光标（在输入框内有2个数字密码，第三个密码框要显示高亮和光标，之前的显示黑点后面的显示空白，输入和删除都一样）
                    if(l === k){
                        _this.eq(l).addClass("active");
                        _this.eq(l).find('b').css('visibility','hidden');

                    }else{
                        _this.eq(l).removeClass("active");
                        _this.eq(l).find('b').css('visibility', l < k ? 'visible' : 'hidden');

                    }

                    if(k === 6){
                        j = 5;
                    }else{
                        j = k;
                    }
                    $('#cardwrap').css('left',j*30+'px');

                }
            }else{
                //输入其他字符，直接清空
                var _val = this.value;
                this.value = _val.replace(/\D/g,'');
            }
        });

</script>
</html>